<!doctype html>
<html>

<head>
	<title>Finite State Machine Designer - by Evan Wallace</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="./css/font-awesome.min.css">
	<link rel="stylesheet" href="./css/styles.css">
	<script src="fsm.js"></script>
	<script>
		/*
		 * base64.js - Base64 encoding and decoding functions
		 *
		 * See: http://developer.mozilla.org/en/docs/DOM:window.btoa
		 *      http://developer.mozilla.org/en/docs/DOM:window.atob
		 *
		 * Copyright (c) 2007, David Lindquist <david.lindquist@gmail.com>
		 * Released under the MIT license
		 */

		if (typeof btoa == 'undefined') {
			function btoa(str) {
				var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
				var encoded = [];
				var c = 0;
				while (c < str.length) {
					var b0 = str.charCodeAt(c++);
					var b1 = str.charCodeAt(c++);
					var b2 = str.charCodeAt(c++);
					var buf = (b0 << 16) + ((b1 || 0) << 8) + (b2 || 0);
					var i0 = (buf & (63 << 18)) >> 18;
					var i1 = (buf & (63 << 12)) >> 12;
					var i2 = isNaN(b1) ? 64 : (buf & (63 << 6)) >> 6;
					var i3 = isNaN(b2) ? 64 : (buf & 63);
					encoded[encoded.length] = chars.charAt(i0);
					encoded[encoded.length] = chars.charAt(i1);
					encoded[encoded.length] = chars.charAt(i2);
					encoded[encoded.length] = chars.charAt(i3);
				}
				return encoded.join('');
			}
		}
	</script>
</head>

<body>
	<div class="container">
		<div class="headerContainer">
			<div class="header">
				<p class="headerTitle">Finite State Machine Designer 1.1</p>
				<a href="https://github.com/paavohuhtala/fsm" class="github"><i class="fa fa-github fa-2x"></i></a>
			</div>
			<div class="toolbox">
				<a href="javascript:clearCanvas()" class="toolboxButton clear"><i class="fa fa-trash" aria-hidden="true"></i>Clear</a>
				<div class="toolboxButton import"><i class="fa fa-upload" aria-hidden="true"></i>Import</div>
				<a href="javascript:toggleExport()" class="toolboxButton export"><i class="fa fa-download" aria-hidden="true"></i>Export</a>
				<a href="javascript:toggleHelp()" class="toolboxButton toggleHelp"><i class="fa fa-question-circle" aria-hidden="true"></i>Help</a>
			</div>
		</div>
		<div class="content">
			<div id="helpContainer" class="help">
				<p>This big grid is the FSM designer.&nbsp; Here's how to use it:</p>
				<ul>
					<li><b>Add a state:</b> double-click on the canvas</li>
					<li><b>Add an arrow transition:</b> shift-drag on the canvas</li>
					<li><b>Curve a transition:</b> click and hold an existing transition. Drag it around</li>
					<li><b>Move something:</b> drag it around</li>
					<li><b>Delete something:</b> click it and press the delete key (not the backspace key) this is fn + backspace on MacBooks</li>
				</ul>
				<ul>
					<li><b>Make accept state:</b> double-click on an existing state</li>
					<li><b>Type numeric subscript:</b> put an underscore before the number (like "S_0")</li>
					<li><b>Type greek letter:</b> put a backslash before it (like "\beta")</li>
				</ul>
			</div>
			<div id="canvasContainer"></div>
		</div>
		<footer>
			<p>Created by <a href="http://madebyevan.com/">Evan Wallace</a> in 2010, updated by <a href="http://paavo.me/">Paavo Huhtala</a> and <a href="https://github.com/djesmond">Niclas Sommer</a> in 2016 - 2017.</p>
		</footer>
	</div>
	</div>
	<div id="exportModal" class="modal hide">
		<div class="modalTitle">Export as:</div>
		<a href="javascript:toggleExport()" class="modalClose"><i class="fa fa-times" aria-hidden="true"></i></a>
		<div class="modalContent">
			<p>Note that the grid is not exported</p>
			<a href="javascript:saveAsPNG()">PNG</a> |
			<a href="javascript:saveAsSVG()">SVG</a> |
			<a href="javascript:saveAsLaTeX()">LaTeX</a> |
			<a href="javascript:saveAsJSON()">JSON</a>
			<textarea id="output" class="exportOutput"></textarea>
		</div>
	</div>
</body>

</html>